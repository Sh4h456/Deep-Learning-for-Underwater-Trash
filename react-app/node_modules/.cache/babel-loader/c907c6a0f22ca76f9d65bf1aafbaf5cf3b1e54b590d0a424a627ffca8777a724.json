{"ast":null,"code":"var _jsxFileName = \"C:\\\\Dummy\\\\FinalProject\\\\react-app\\\\src\\\\components\\\\ChatWidget.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { MessageCircle, X } from 'lucide-react';\nimport { useChat } from '../hooks/useChat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatWidget() {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const {\n    messages,\n    sendMessage,\n    isChatLoading\n  } = useChat();\n  const chatEndRef = useRef(null);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  useEffect(() => {\n    if (isOpen) {\n      var _inputRef$current;\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }\n  }, [isOpen]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const userInput = e.target.elements.userInput.value.trim();\n    if (!userInput) return;\n    sendMessage(userInput);\n    e.target.reset();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed bottom-24 right-4 md:right-8 w-80 md:w-96 bg-gray-800 rounded-lg shadow-2xl border border-gray-700 flex flex-col transition-all duration-300 origin-bottom-right ${isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0 pointer-events-none'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-700 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: \"Ask AquaBot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsOpen(false),\n          \"aria-label\": \"Close chat\",\n          className: \"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow h-80 p-4 overflow-y-auto space-y-4\",\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${msg.from === 'user' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `max-w-xs md:max-w-sm p-3 rounded-lg ${msg.from === 'user' ? 'bg-cyan-600 text-white' : 'bg-gray-700'}`,\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)), isChatLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bg-gray-700 p-3 rounded-lg animate-pulse\",\n            children: \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: chatEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"p-4 border-t border-gray-700 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"userInput\",\n          type: \"text\",\n          placeholder: \"Type your question...\",\n          disabled: isChatLoading,\n          \"aria-label\": \"Chat input\",\n          ref: inputRef,\n          className: \"flex-grow bg-gray-700 text-gray-200 rounded-l-md p-2 border-0 focus:ring-2 focus:ring-cyan-500 disabled:opacity-50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isChatLoading,\n          \"aria-label\": \"Send message\",\n          className: \"bg-cyan-500 text-gray-900 font-bold p-2 rounded-r-md hover:bg-cyan-400 disabled:bg-gray-500\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      \"aria-label\": \"Toggle chat widget\",\n      className: \"fixed bottom-8 right-8 w-16 h-16 bg-cyan-500 rounded-full flex items-center justify-center shadow-lg text-gray-900 hover:bg-cyan-400 transition-transform hover:scale-110\",\n      children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n        size: 32\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatWidget, \"6IG68U7zr23pUPvFanqkiI7p2QE=\", false, function () {\n  return [useChat];\n});\n_c = ChatWidget;\nvar _c;\n$RefreshReg$(_c, \"ChatWidget\");","map":{"version":3,"names":["React","useState","useRef","useEffect","MessageCircle","X","useChat","jsxDEV","_jsxDEV","ChatWidget","_s","isOpen","setIsOpen","messages","sendMessage","isChatLoading","chatEndRef","inputRef","_chatEndRef$current","current","scrollIntoView","behavior","_inputRef$current","focus","handleSubmit","e","preventDefault","userInput","target","elements","value","trim","reset","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","map","msg","index","from","text","ref","onSubmit","name","type","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Dummy/FinalProject/react-app/src/components/ChatWidget.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { MessageCircle, X } from 'lucide-react';\r\nimport { useChat } from '../hooks/useChat';\r\n\r\nexport default function ChatWidget() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { messages, sendMessage, isChatLoading } = useChat();\r\n  const chatEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      inputRef.current?.focus();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const userInput = e.target.elements.userInput.value.trim();\r\n    if (!userInput) return;\r\n    sendMessage(userInput);\r\n    e.target.reset();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className={`fixed bottom-24 right-4 md:right-8 w-80 md:w-96 bg-gray-800 rounded-lg shadow-2xl border border-gray-700 flex flex-col transition-all duration-300 origin-bottom-right ${\r\n          isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0 pointer-events-none'\r\n        }`}\r\n      >\r\n        <div className=\"p-4 border-b border-gray-700 flex justify-between items-center\">\r\n          <h2 className=\"text-lg font-semibold\">Ask AquaBot</h2>\r\n          <button\r\n            onClick={() => setIsOpen(false)}\r\n            aria-label=\"Close chat\"\r\n            className=\"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n        <div className=\"flex-grow h-80 p-4 overflow-y-auto space-y-4\">\r\n          {messages.map((msg, index) => (\r\n            <div\r\n              key={index}\r\n              className={`flex ${msg.from === 'user' ? 'justify-end' : 'justify-start'}`}\r\n            >\r\n              <p\r\n                className={`max-w-xs md:max-w-sm p-3 rounded-lg ${\r\n                  msg.from === 'user' ? 'bg-cyan-600 text-white' : 'bg-gray-700'\r\n                }`}\r\n              >\r\n                {msg.text}\r\n              </p>\r\n            </div>\r\n          ))}\r\n          {isChatLoading && (\r\n            <div className=\"flex justify-start\">\r\n              <p className=\"bg-gray-700 p-3 rounded-lg animate-pulse\">...</p>\r\n            </div>\r\n          )}\r\n          <div ref={chatEndRef} />\r\n        </div>\r\n        <form onSubmit={handleSubmit} className=\"p-4 border-t border-gray-700 flex items-center\">\r\n          <input\r\n            name=\"userInput\"\r\n            type=\"text\"\r\n            placeholder=\"Type your question...\"\r\n            disabled={isChatLoading}\r\n            aria-label=\"Chat input\"\r\n            ref={inputRef}\r\n            className=\"flex-grow bg-gray-700 text-gray-200 rounded-l-md p-2 border-0 focus:ring-2 focus:ring-cyan-500 disabled:opacity-50\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isChatLoading}\r\n            aria-label=\"Send message\"\r\n            className=\"bg-cyan-500 text-gray-900 font-bold p-2 rounded-r-md hover:bg-cyan-400 disabled:bg-gray-500\"\r\n          >\r\n            Send\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        aria-label=\"Toggle chat widget\"\r\n        className=\"fixed bottom-8 right-8 w-16 h-16 bg-cyan-500 rounded-full flex items-center justify-center shadow-lg text-gray-900 hover:bg-cyan-400 transition-transform hover:scale-110\"\r\n      >\r\n        <MessageCircle size={32} />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}